<table class="table table-striped notifications-list">

<tbody>
  {{#each this.notices as |notification|}}
  <tr>
    <td>{{#if notification.is_unread}}
          <span class="badge rounded-pill bg-primary"> <i class="fa-duotone fa-regular fa-flag" aria-label="Unread Notification"></i></span>
          {{/if}}
        </td>
    <td class="notifications-timestamp">{{notification.timestamp}}</td>
    <td><AnsiFormat @text={{notification.message}}/></td>
    <td class="notifications-controls-container">
    
      <div class="notification-controls">
        {{#if (eq notification.type 'mail')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid fa-eye" @route="mail-message" @model={{notification.reference_id}} />
        {{else if (eq notification.type 'forum')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="forum-topic" @models={{array (get notification.data 0) (get notification.data 1)}} />
        {{else if (eq notification.type 'job')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="job" @model={{notification.reference_id}} />
        {{else if (eq notification.type 'pm')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="chat" />
        {{else if (eq notification.type 'scene')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="scene-live" @model={{notification.reference_id}} />
        {{else if (eq notification.type 'scene_deletion')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="scene-live" @model={{notification.reference_id}} />
        {{else if (eq notification.type 'event')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="event" @model={{notification.reference_id}} />
        {{else if (eq notification.type 'achievement')}}
          <TooltipButton @position="left" @message="View" @icon="fa-duotone fa-solid  fa-eye" @route="char" @model={{this.char.name}} />
        {{/if}}
      
        {{#if notification.is_unread}}
          <TooltipButton @onClick={{(fn this.markRead notification false)}} @position="left" @message="Mark Read" @icon="fa-duotone fa-regular fa-ban" />
        {{else}}
          <TooltipButton @onClick={{(fn this.markRead notification true)}} @position="left" @message="Mark Unread" @icon="fa-duoton fa-regular fa-flag" />  
          {{/if}}
      </div>
    </td>
  </tr>
  {{/each}}
  </tbody>
</table>
